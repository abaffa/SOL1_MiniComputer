0001   0000             .include bios.exp
0001+  0000             bkpt             .EQU  $0000
0002+  0000             ide_serv         .EQU  $0004
0003+  0000             kernel_serv      .EQU  $0001
0004+  0000             misc             .EQU  $0008
0005+  0000             print_u16x       .EQU  $0005
0006+  0000             rtc_serv         .EQU  $0002
0007+  0000             scan_u16x        .EQU  $0006
0008+  0000             uart_serv        .EQU  $0003
0009+  0000             xput_u8          .EQU  $0007
0002   5000             .org $5000
0003   5000             
0004   5000             
0005   5000             
0006   5000             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0007   5000             ; ADVENTURE
0008   5000             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0009   5000             adventure:
0010   5000 D2          	push bp
0011   5001 9B          	mov bp, sp	
0012   5002 52 01 00    	sub sp, 1		; 1 byte for player location
0013   5005 52 40 00    	sub sp, 64		; 64 bytes for player command
0014   5008             
0015   5008 07 AC 50    	call put_nl
0016   500B 3B 45 51    	mov d, s_adv_instr
0017   500E 07 BB 50    	call puts
0018   5011             
0019   5011             adv_start:
0020   5011 07 AC 50    	call put_nl
0021   5014 19 00       	mov al, 0
0022   5016 40 00 00    	mov [bp+0], al		; reset position
0023   5019             
0024   5019             adv_loop:
0025   5019 20 00 00    	mov al, [bp+0]		; get position
0026   501C 22 00       	mov ah, 0
0027   501E 3A 01       	mov cl, 1
0028   5020 9D          	shl a, cl			; times 2
0029   5021 B7 F9 50    	mov a, [a + adv_text_table]	; get text description for new position
0030   5024 3C          	mov d, a
0031   5025 07 AC 50    	call put_nl
0032   5028 07 BB 50    	call puts
0033   502B 07 AC 50    	call put_nl
0034   502E             
0035   502E FA C0 FF    	lea d, [bp +-64]
0036   5031 07 D1 50    	call gets			; get command
0037   5034             
0038   5034 1E          	mov al, [d]
0039   5035 23          	mov ah, al
0040   5036 07 EF 50    	call to_upper
0041   5039 76 51       	cmp ah, 'Q'
0042   503B C6 64 50    	je adv_ret			; quit game
0043   503E 07 91 50    	call adv_map_dir		; convert NESW to 0123 in AL
0044   5041 B9 04       	cmp al, 4
0045   5043 C6 5B 50    	je other_command		; other keywords
0046   5046             move_command:
0047   5046 2F          	mov bl, al			; save converted movement value
0048   5047 20 00 00    	mov al, [bp+0]		; get current pos
0049   504A 3A 02       	mov cl, 2
0050   504C 9E          	shl al, cl			; multiply pos by 4, for table conversion
0051   504D 6B          	add al, bl			; get new position table index
0052   504E 22 00       	mov ah, 0
0053   5050 53 69 50    	add a, adv_pos_table
0054   5053 3C          	mov d, a
0055   5054 1E          	mov al, [d]
0056   5055 40 00 00    	mov [bp+0], al		; save new position
0057   5058             	
0058   5058 0A 19 50    	jmp adv_loop			; back to main loop
0059   505B             
0060   505B             other_command:
0061   505B             	
0062   505B 3B C0 55    	mov d, s_adv_error
0063   505E 07 BB 50    	call puts
0064   5061 0A 19 50    	jmp adv_loop
0065   5064             	
0066   5064             adv_ret:
0067   5064 19 01       	mov al, 1	
0068   5066 9C          	mov sp, bp
0069   5067 F1          	pop bp
0070   5068 09          	ret
0071   5069             
0072   5069             adv_pos_table:
0073   5069             	; pos 0, beginning
0074   5069 01          	.db 1			; N
0075   506A 02          	.db 2			; E
0076   506B 03          	.db 3			; S
0077   506C 04          	.db 4			; W
0078   506D             
0079   506D             	; pos 1
0080   506D 06          	.db 6			
0081   506E 01          	.db 1			
0082   506F 00          	.db 0			
0083   5070 01          	.db 1	
0084   5071             		
0085   5071             	; pos 2
0086   5071 02          	.db 2
0087   5072 02          	.db 2
0088   5073 03          	.db 3
0089   5074 00          	.db 0	
0090   5075             
0091   5075             	; pos 3
0092   5075 00          	.db 0
0093   5076 02          	.db 2
0094   5077 03          	.db 3
0095   5078 04          	.db 4
0096   5079             
0097   5079             	; pos 4
0098   5079 05          	.db 5
0099   507A 00          	.db 0
0100   507B 03          	.db 3
0101   507C 04          	.db 4
0102   507D             
0103   507D             	; pos 5, statue
0104   507D 05          	.db 5
0105   507E 05          	.db 5
0106   507F 04          	.db 4
0107   5080 05          	.db 5
0108   5081             
0109   5081             	; pos 6
0110   5081 07          	.db 7
0111   5082 06          	.db 6
0112   5083 01          	.db 1
0113   5084 06          	.db 6
0114   5085             
0115   5085             	; pos 7
0116   5085 08          	.db 8
0117   5086 07          	.db 7
0118   5087 06          	.db 6
0119   5088 07          	.db 7
0120   5089             
0121   5089             	; pos 8
0122   5089 09          	.db 9
0123   508A 08          	.db 8
0124   508B 07          	.db 7
0125   508C 08          	.db 8
0126   508D             
0127   508D             	; pos 9
0128   508D 09          	.db 9
0129   508E 09          	.db 9
0130   508F 08          	.db 8
0131   5090 09          	.db 9
0132   5091             
0133   5091             
0134   5091             ; dir char in AL
0135   5091             ; output in AL
0136   5091             adv_map_dir:
0137   5091 19 00       	mov al, 0
0138   5093 76 4E       	cmp ah, 'N'
0139   5095 C6 AB 50    	je dir_ret
0140   5098 7A          	inc al
0141   5099 76 45       	cmp ah, 'E'
0142   509B C6 AB 50    	je dir_ret
0143   509E 7A          	inc al
0144   509F 76 53       	cmp ah, 'S'
0145   50A1 C6 AB 50    	je dir_ret
0146   50A4 7A          	inc al
0147   50A5 76 57       	cmp ah, 'W'
0148   50A7 C6 AB 50    	je dir_ret
0149   50AA 7A          	inc al			; not a direction command
0150   50AB             dir_ret:
0151   50AB 09          	ret
0152   50AC             	
0153   50AC             	
0154   50AC             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0155   50AC             ; PRINT NEW LINE
0156   50AC             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0157   50AC             put_nl:
0158   50AC E1          	pushf
0159   50AD D7          	push a
0160   50AE 10 01 0A    	mov a, $0A01
0161   50B1 05 03       	syscall uart_serv
0162   50B3 10 01 0D    	mov a, $0D01
0163   50B6 05 03       	syscall uart_serv
0164   50B8 E4          	pop a
0165   50B9 EE          	popf
0166   50BA 09          	ret
0167   50BB             
0168   50BB             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0169   50BB             ; PRINT NULL TERMINATED STRING
0170   50BB             ; pointer in D
0171   50BB             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0172   50BB             puts:
0173   50BB E1          	pushf
0174   50BC D7          	push a
0175   50BD DA          	push d
0176   50BE             puts_L1:
0177   50BE 1E          	mov al, [d]
0178   50BF B9 00       	cmp al, 0
0179   50C1 C6 CD 50    	jz puts_END
0180   50C4 23          	mov ah, al
0181   50C5 19 01       	mov al, 1
0182   50C7 05 03       	syscall uart_serv
0183   50C9 79          	inc d	
0184   50CA 0A BE 50    	jmp puts_L1
0185   50CD             puts_END:
0186   50CD E7          	pop d
0187   50CE E4          	pop a
0188   50CF EE          	popf
0189   50D0 09          	ret
0190   50D1             
0191   50D1             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0192   50D1             ;; INPUT A STRING
0193   50D1             ;; terminates with null
0194   50D1             ;; pointer in D
0195   50D1             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0196   50D1             gets:
0197   50D1 E1          	pushf
0198   50D2 D7          	push a
0199   50D3 DA          	push d
0200   50D4             gets_loop:
0201   50D4 19 03       	mov al, 3
0202   50D6 05 03       	syscall uart_serv			; receive in AH
0203   50D8 76 0A       	cmp ah, 0Ah				; cr
0204   50DA C6 E8 50    	je gets_end
0205   50DD 76 0D       	cmp ah, 0Dh				; cr
0206   50DF C6 E8 50    	je gets_end
0207   50E2 1A          	mov al, ah
0208   50E3 3E          	mov [d], al
0209   50E4 79          	inc d
0210   50E5 0A D4 50    	jmp gets_loop
0211   50E8             gets_end:
0212   50E8 19 00       	mov al, 0
0213   50EA 3E          	mov [d], al				; terminate string
0214   50EB E7          	pop d
0215   50EC E4          	pop a
0216   50ED EE          	popf
0217   50EE 09          	ret
0218   50EF             
0219   50EF             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0220   50EF             ; TO UPPER
0221   50EF             ; input in AL
0222   50EF             ; output in AL
0223   50EF             ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0224   50EF             to_upper:
0225   50EF E1          	pushf
0226   50F0 B9 61       	cmp al, 'a'
0227   50F2 C8 F7 50    	jlu to_upper_ret
0228   50F5 6F 20       	sub al, $20			; convert to upper case
0229   50F7             to_upper_ret:
0230   50F7 EE          	popf
0231   50F8 09          	ret	
0232   50F9             	
0233   50F9             adv_text_table:
0234   50F9 C8 51       	.dw s_adv_0
0235   50FB DB 52       	.dw s_adv_1
0236   50FD 1C 53       	.dw s_adv_2
0237   50FF D0 53       	.dw s_adv_3
0238   5101 09 54       	.dw s_adv_4
0239   5103 25 54       	.dw s_adv_5
0240   5105 76 54       	.dw s_adv_6
0241   5107 C3 54       	.dw s_adv_7
0242   5109 03 55       	.dw s_adv_8
0243   510B 3A 55       	.dw s_adv_9	
0244   510D             	
0245   510D 0A          s_nl_2:			.db "\n"
0246   510E 0A 0D 00    s_nl_1:			.db "\n\r", 0
0247   5111             
0248   5111 52 65 74 75 s_ret: 			.db "Returned to Process 1.\n\r", 0
0248   5115 72 6E 65 64 
0248   5119 20 74 6F 20 
0248   511D 50 72 6F 63 
0248   5121 65 73 73 20 
0248   5125 31 2E 0A 0D 
0248   5129 00 
0249   512A             
0250   512A 50 72 6F 67 s_enter_prog:		.db "Program: ", 0
0250   512E 72 61 6D 3A 
0250   5132 20 00 
0251   5134 4F 72 69 67 s_origin_addr:	.db "Origin address: ", 0
0251   5138 69 6E 20 61 
0251   513C 64 64 72 65 
0251   5140 73 73 3A 20 
0251   5144 00 
0252   5145             
0253   5145             s_adv_instr:	
0254   5145 47 61 6D 65 	.db "Game Instructions:\n\r"
0254   5149 20 49 6E 73 
0254   514D 74 72 75 63 
0254   5151 74 69 6F 6E 
0254   5155 73 3A 0A 0D 
0255   5159 4E 3A 20 4D 	.db "N: Moves North\n\r"
0255   515D 6F 76 65 73 
0255   5161 20 4E 6F 72 
0255   5165 74 68 0A 0D 
0256   5169 53 3A 20 4D 	.db "S: Moves South\n\r"
0256   516D 6F 76 65 73 
0256   5171 20 53 6F 75 
0256   5175 74 68 0A 0D 
0257   5179 57 3A 20 4D 	.db "W: Moves West\n\r"
0257   517D 6F 76 65 73 
0257   5181 20 57 65 73 
0257   5185 74 0A 0D 
0258   5188 45 3A 20 4D 	.db "E: Moves East\n\r"
0258   518C 6F 76 65 73 
0258   5190 20 45 61 73 
0258   5194 74 0A 0D 
0259   5197 58 3A 20 45 	.db "X: Examine Location (not working)\n\r"
0259   519B 78 61 6D 69 
0259   519F 6E 65 20 4C 
0259   51A3 6F 63 61 74 
0259   51A7 69 6F 6E 20 
0259   51AB 28 6E 6F 74 
0259   51AF 20 77 6F 72 
0259   51B3 6B 69 6E 67 
0259   51B7 29 0A 0D 
0260   51BA 51 3A 20 51 	.db "Q: Quits Game", 0
0260   51BE 75 69 74 73 
0260   51C2 20 47 61 6D 
0260   51C6 65 00 
0261   51C8             
0262   51C8             s_adv_0:
0263   51C8 49 74 20 69 	.db "It is around 9am, and you find yourself in a forest.\n\r"
0263   51CC 73 20 61 72 
0263   51D0 6F 75 6E 64 
0263   51D4 20 39 61 6D 
0263   51D8 2C 20 61 6E 
0263   51DC 64 20 79 6F 
0263   51E0 75 20 66 69 
0263   51E4 6E 64 20 79 
0263   51E8 6F 75 72 73 
0263   51EC 65 6C 66 20 
0263   51F0 69 6E 20 61 
0263   51F4 20 66 6F 72 
0263   51F8 65 73 74 2E 
0263   51FC 0A 0D 
0264   51FE 54 68 65 72 	.db "There is an old wooden cabin north of you.\n\r"
0264   5202 65 20 69 73 
0264   5206 20 61 6E 20 
0264   520A 6F 6C 64 20 
0264   520E 77 6F 6F 64 
0264   5212 65 6E 20 63 
0264   5216 61 62 69 6E 
0264   521A 20 6E 6F 72 
0264   521E 74 68 20 6F 
0264   5222 66 20 79 6F 
0264   5226 75 2E 0A 0D 
0265   522A 54 68 65 20 	.db "The cabin looks very old and seems abandoned. It has two windows and a door at the front.\n\r"
0265   522E 63 61 62 69 
0265   5232 6E 20 6C 6F 
0265   5236 6F 6B 73 20 
0265   523A 76 65 72 79 
0265   523E 20 6F 6C 64 
0265   5242 20 61 6E 64 
0265   5246 20 73 65 65 
0265   524A 6D 73 20 61 
0265   524E 62 61 6E 64 
0265   5252 6F 6E 65 64 
0265   5256 2E 20 49 74 
0265   525A 20 68 61 73 
0265   525E 20 74 77 6F 
0265   5262 20 77 69 6E 
0265   5266 64 6F 77 73 
0265   526A 20 61 6E 64 
0265   526E 20 61 20 64 
0265   5272 6F 6F 72 20 
0265   5276 61 74 20 74 
0265   527A 68 65 20 66 
0265   527E 72 6F 6E 74 
0265   5282 2E 0A 0D 
0266   5285 59 6F 75 20 	.db "You can see through the windows and the sunlight illuminates the inside of the cabin.", 0
0266   5289 63 61 6E 20 
0266   528D 73 65 65 20 
0266   5291 74 68 72 6F 
0266   5295 75 67 68 20 
0266   5299 74 68 65 20 
0266   529D 77 69 6E 64 
0266   52A1 6F 77 73 20 
0266   52A5 61 6E 64 20 
0266   52A9 74 68 65 20 
0266   52AD 73 75 6E 6C 
0266   52B1 69 67 68 74 
0266   52B5 20 69 6C 6C 
0266   52B9 75 6D 69 6E 
0266   52BD 61 74 65 73 
0266   52C1 20 74 68 65 
0266   52C5 20 69 6E 73 
0266   52C9 69 64 65 20 
0266   52CD 6F 66 20 74 
0266   52D1 68 65 20 63 
0266   52D5 61 62 69 6E 
0266   52D9 2E 00 
0267   52DB             
0268   52DB             s_adv_1:
0269   52DB 59 6F 75 20 	.db "You are at the entrance door to the cabin. The door is locked.\n\r", 0
0269   52DF 61 72 65 20 
0269   52E3 61 74 20 74 
0269   52E7 68 65 20 65 
0269   52EB 6E 74 72 61 
0269   52EF 6E 63 65 20 
0269   52F3 64 6F 6F 72 
0269   52F7 20 74 6F 20 
0269   52FB 74 68 65 20 
0269   52FF 63 61 62 69 
0269   5303 6E 2E 20 54 
0269   5307 68 65 20 64 
0269   530B 6F 6F 72 20 
0269   530F 69 73 20 6C 
0269   5313 6F 63 6B 65 
0269   5317 64 2E 0A 0D 
0269   531B 00 
0270   531C             
0271   531C             s_adv_2:
0272   531C 59 6F 75 20 	.db "You are in a clearing. Small trees encircle you. The grass is short and there are a few big rocks on the ground.\n\r"
0272   5320 61 72 65 20 
0272   5324 69 6E 20 61 
0272   5328 20 63 6C 65 
0272   532C 61 72 69 6E 
0272   5330 67 2E 20 53 
0272   5334 6D 61 6C 6C 
0272   5338 20 74 72 65 
0272   533C 65 73 20 65 
0272   5340 6E 63 69 72 
0272   5344 63 6C 65 20 
0272   5348 79 6F 75 2E 
0272   534C 20 54 68 65 
0272   5350 20 67 72 61 
0272   5354 73 73 20 69 
0272   5358 73 20 73 68 
0272   535C 6F 72 74 20 
0272   5360 61 6E 64 20 
0272   5364 74 68 65 72 
0272   5368 65 20 61 72 
0272   536C 65 20 61 20 
0272   5370 66 65 77 20 
0272   5374 62 69 67 20 
0272   5378 72 6F 63 6B 
0272   537C 73 20 6F 6E 
0272   5380 20 74 68 65 
0272   5384 20 67 72 6F 
0272   5388 75 6E 64 2E 
0272   538C 0A 0D 
0273   538E 54 68 65 20 	.db "The sky is a deep blue with big white puffy clouds flying calmly.", 0
0273   5392 73 6B 79 20 
0273   5396 69 73 20 61 
0273   539A 20 64 65 65 
0273   539E 70 20 62 6C 
0273   53A2 75 65 20 77 
0273   53A6 69 74 68 20 
0273   53AA 62 69 67 20 
0273   53AE 77 68 69 74 
0273   53B2 65 20 70 75 
0273   53B6 66 66 79 20 
0273   53BA 63 6C 6F 75 
0273   53BE 64 73 20 66 
0273   53C2 6C 79 69 6E 
0273   53C6 67 20 63 61 
0273   53CA 6C 6D 6C 79 
0273   53CE 2E 00 
0274   53D0             
0275   53D0             s_adv_3:
0276   53D0 59 6F 75 20 	.db "You are in a deep forest. Big trees block the way south.", 0
0276   53D4 61 72 65 20 
0276   53D8 69 6E 20 61 
0276   53DC 20 64 65 65 
0276   53E0 70 20 66 6F 
0276   53E4 72 65 73 74 
0276   53E8 2E 20 42 69 
0276   53EC 67 20 74 72 
0276   53F0 65 65 73 20 
0276   53F4 62 6C 6F 63 
0276   53F8 6B 20 74 68 
0276   53FC 65 20 77 61 
0276   5400 79 20 73 6F 
0276   5404 75 74 68 2E 
0276   5408 00 
0277   5409             
0278   5409             s_adv_4:
0279   5409 59 6F 75 20 	.db "You are on a rocky plateau.", 0
0279   540D 61 72 65 20 
0279   5411 6F 6E 20 61 
0279   5415 20 72 6F 63 
0279   5419 6B 79 20 70 
0279   541D 6C 61 74 65 
0279   5421 61 75 2E 00 
0280   5425             
0281   5425             s_adv_5:
0282   5425 59 6F 75 20 	.db "You are at the top of the plateau. Looking down the mountain you see a big lake.", 0
0282   5429 61 72 65 20 
0282   542D 61 74 20 74 
0282   5431 68 65 20 74 
0282   5435 6F 70 20 6F 
0282   5439 66 20 74 68 
0282   543D 65 20 70 6C 
0282   5441 61 74 65 61 
0282   5445 75 2E 20 4C 
0282   5449 6F 6F 6B 69 
0282   544D 6E 67 20 64 
0282   5451 6F 77 6E 20 
0282   5455 74 68 65 20 
0282   5459 6D 6F 75 6E 
0282   545D 74 61 69 6E 
0282   5461 20 79 6F 75 
0282   5465 20 73 65 65 
0282   5469 20 61 20 62 
0282   546D 69 67 20 6C 
0282   5471 61 6B 65 2E 
0282   5475 00 
0283   5476             
0284   5476             s_adv_6:
0285   5476 59 6F 75 20 	.db "You are north of the cabin. There is a path through the trees leading north.", 0
0285   547A 61 72 65 20 
0285   547E 6E 6F 72 74 
0285   5482 68 20 6F 66 
0285   5486 20 74 68 65 
0285   548A 20 63 61 62 
0285   548E 69 6E 2E 20 
0285   5492 54 68 65 72 
0285   5496 65 20 69 73 
0285   549A 20 61 20 70 
0285   549E 61 74 68 20 
0285   54A2 74 68 72 6F 
0285   54A6 75 67 68 20 
0285   54AA 74 68 65 20 
0285   54AE 74 72 65 65 
0285   54B2 73 20 6C 65 
0285   54B6 61 64 69 6E 
0285   54BA 67 20 6E 6F 
0285   54BE 72 74 68 2E 
0285   54C2 00 
0286   54C3             
0287   54C3             s_adv_7:
0288   54C3 59 6F 75 20 	.db "You are in a forest path. There is a small stream north of you.", 0
0288   54C7 61 72 65 20 
0288   54CB 69 6E 20 61 
0288   54CF 20 66 6F 72 
0288   54D3 65 73 74 20 
0288   54D7 70 61 74 68 
0288   54DB 2E 20 54 68 
0288   54DF 65 72 65 20 
0288   54E3 69 73 20 61 
0288   54E7 20 73 6D 61 
0288   54EB 6C 6C 20 73 
0288   54EF 74 72 65 61 
0288   54F3 6D 20 6E 6F 
0288   54F7 72 74 68 20 
0288   54FB 6F 66 20 79 
0288   54FF 6F 75 2E 00 
0289   5503             
0290   5503             s_adv_8:
0291   5503 59 6F 75 20 	.db "You are at a water spring. The grass is wet and muddy.", 0
0291   5507 61 72 65 20 
0291   550B 61 74 20 61 
0291   550F 20 77 61 74 
0291   5513 65 72 20 73 
0291   5517 70 72 69 6E 
0291   551B 67 2E 20 54 
0291   551F 68 65 20 67 
0291   5523 72 61 73 73 
0291   5527 20 69 73 20 
0291   552B 77 65 74 20 
0291   552F 61 6E 64 20 
0291   5533 6D 75 64 64 
0291   5537 79 2E 00 
0292   553A             
0293   553A             s_adv_9:
0294   553A 59 6F 75 20 	.db "You are in a bog. The water reaches up to your knees.\n\r"
0294   553E 61 72 65 20 
0294   5542 69 6E 20 61 
0294   5546 20 62 6F 67 
0294   554A 2E 20 54 68 
0294   554E 65 20 77 61 
0294   5552 74 65 72 20 
0294   5556 72 65 61 63 
0294   555A 68 65 73 20 
0294   555E 75 70 20 74 
0294   5562 6F 20 79 6F 
0294   5566 75 72 20 6B 
0294   556A 6E 65 65 73 
0294   556E 2E 0A 0D 
0295   5571 54 68 65 20 	.db "The ground feels like quick sand and it is difficult to move around.", 0
0295   5575 67 72 6F 75 
0295   5579 6E 64 20 66 
0295   557D 65 65 6C 73 
0295   5581 20 6C 69 6B 
0295   5585 65 20 71 75 
0295   5589 69 63 6B 20 
0295   558D 73 61 6E 64 
0295   5591 20 61 6E 64 
0295   5595 20 69 74 20 
0295   5599 69 73 20 64 
0295   559D 69 66 66 69 
0295   55A1 63 75 6C 74 
0295   55A5 20 74 6F 20 
0295   55A9 6D 6F 76 65 
0295   55AD 20 61 72 6F 
0295   55B1 75 6E 64 2E 
0295   55B5 00 
0296   55B6             
0297   55B6             s_adv_restart:
0298   55B6 52 65 73 74 	.db "Restart? ", 0
0298   55BA 61 72 74 3F 
0298   55BE 20 00 
0299   55C0             	
0300   55C0             s_adv_error:
0301   55C0 49 20 64 6F 	.db "I do not understand that word.\n\n\r", 0
0301   55C4 20 6E 6F 74 
0301   55C8 20 75 6E 64 
0301   55CC 65 72 73 74 
0301   55D0 61 6E 64 20 
0301   55D4 74 68 61 74 
0301   55D8 20 77 6F 72 
0301   55DC 64 2E 0A 0A 
0301   55E0 0D 00 
0302   55E2             	
0303   55E2             s_adv_exam:
0304   55E2 54 68 65 72 	.db "There is nothing here.\n\n\r", 0
0304   55E6 65 20 69 73 
0304   55EA 20 6E 6F 74 
0304   55EE 68 69 6E 67 
0304   55F2 20 68 65 72 
0304   55F6 65 2E 0A 0A 
0304   55FA 0D 00 
0305   55FC             	
0306   55FC             s_item_show:
0307   55FC 49 74 65 6D 	.db "Items at this location: ", 0
0307   5600 73 20 61 74 
0307   5604 20 74 68 69 
0307   5608 73 20 6C 6F 
0307   560C 63 61 74 69 
0307   5610 6F 6E 3A 20 
0307   5614 00 
0308   5615             
0309   5615             
0310   5615             
0311   5615             
0312   5615             
0313   5615             .endtasm: Number of errors = 0
